// this partial uses the bootstrap-growl-rails gem for displaying a notification via javascript.
// the @ajax_flash variable is set by calling the ajax_flash method in ApplicationController.
// When making an ajax call you call the ajax_flash method in the controller and then call render '/ajax_flash.js' in your erb to display the flash
//
// http://bootstrap-notify.remabledesigns.com/#growl-documentation
// https://github.com/dennisbaskin/bootstrap-growl-rails
<% if @ajax_flash || session.has_key?(:ajax_flash) %>
  <% msg = @ajax_flash ? @ajax_flash[:msg] : session[:ajax_flash]['msg']%>
  <% type = @ajax_flash ? @ajax_flash[:type] : session[:ajax_flash]['type'] %>

  $.notify({
    // options
    message: '<%= msg %>'
  },{
    // settings
    type: '<%= type %>' // need to output settings passed in...?
  });
<% end %>
<!--clean up the session if a flash message is in there -->
<% if session.has_key?(:ajax_flash) %>
  <% session[:ajax_flash] = nil %>
<% end %>
